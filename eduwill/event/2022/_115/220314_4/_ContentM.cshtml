@using EVENT.Models.Common
@model UserInfoVO

@{
	String platform = ("W".Equals(ViewBag.PlatformCd)) ? "pc" : "mobile";
}

<script type="text/javascript">
	var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? true : false;
	var agent = navigator.userAgent.toLowerCase();
	var trident = navigator.userAgent.match(/Trident\/(\d.\d)/i);
	var url = window.location.href;
	var str = 'event.eduwill.net';
	var checkUrl = url.indexOf(str);

	$(function() {
		init();
	});
	function init() {
		slide();
		create();
		addEvent();
		pageMove('.page-move', -48);
	}

	function create() {
		_w = $(window);
		_wid = _w.width();
		_hei = _w.height();
	}
	
	function addEvent() {
		_w.on('scroll',scrollEvent);
		scrollEvent();
	}

	// 스크롤 시 하단 고정
	$(window).scroll(function() {
		var scroll = $(this).scrollTop();
		if( 100 <= scroll) {
			$('.sector-floating').addClass('show');
		} else {
			$('.sector-floating').removeClass('show');
		}
	});

	function slide() {
		// swiper
		var bookSwiper = new Swiper('#section5 .line .swiper-container', {
			slidesPerView: 'auto',
			loop: true,
		});

		var bookContentSwiper = new Swiper('#section5 .details .swiper-container', {
			centeredSlides: true,
			slidesPerView: 1.25,
			loop: true,
			navigation: {
				prevEl: '#section5 .swiper-button-prev',
				nextEl: '#section5 .swiper-button-next',
			},
		});

		var teacherSwier = new Swiper('#section6 .swiper-container', {
			slidesPerView: 1,
			loop: true,
			pagination: {
				el: "#section6 .swiper-pagination",
				clickable: true,
			}
		});


		// slick
		reviewSlide();	
		appIntroduceSlide();
		fullserviceSlide();
	}

	function fullserviceSlide(){
		var fullserviceSlider = $('#section8 .fullservice-container');
		fullserviceSlider.each(function(key, item) {
			var sliderIdName = 'fullserviceSlider' + key;
				this.id = sliderIdName;
			var sliderId = '#' + sliderIdName;

			$(sliderId).slick({
				autoplay: true,
				autoplaySpeed: 3000,
				infinite: true,
				arrows: true,
				dots: false,
				slidesToScroll: 1,
				speed: 500,
				slidesToShow: 1,
				pauseOnHover: false,
				pauseOnFocus: false,
				centerPadding: 0,
				variableWidth: true
			});
		});

		fullserviceSlider.on("afterChange", function(event, slick, currentSlide){
			var step =[
				"STEP1",
				"STEP2",
				"STEP3",
				"STEP4"
			];
			var subject =[
					"시험 직전 구원 특강 ",
					"토익 정답 초간단 채점",
					"토익 정답 복기 라이브",
					"토익 성적 분석표 확인"
				];

			var desc = 	[
					"딱 나올 최신 경향 문제만 모아<br/>단 10분이면 실전 대비 끝!",
					"정답 또는 정답 키워드로<br/>시험 직후 쉽고 빠른 정답 채점",
					"토익 정답 100% 완벽 복원<br/>시험 직후 실시간 확인",
					"시험 당일 내 토익 성적 분석 및 문제별 정답률 확인<br/>맞춤 공부법으로 취약점 보완"
				];

			$(".fullservice-title .step").html(step[currentSlide]);
			$(".fullservice-title .subject").html(subject[currentSlide]);
			$(".fullservice-title .desc").html(desc[currentSlide]);

		});
	}

	function appIntroduceSlide(){
		var appSlider = $('#section11 .app-container');
		appSlider.each(function(key, item) {
			var sliderIdName = 'appSlider' + key;
				this.id = sliderIdName;
			var sliderId = '#' + sliderIdName;

			$(sliderId).slick({
				autoplay: true,
				autoplaySpeed: 3000,
				infinite: true,
				arrows: false,
				dots: true,
				slidesToScroll: 1,
				speed: 500,
				slidesToShow: 1,
				pauseOnHover: false,
				pauseOnFocus: false
			});
		});
	}

	function reviewSlide() {
		var reviewSlider = $('#section15 .review-container');
		reviewSlider.each(function(key, item) {
			var sliderIdName = 'reviewSlider' + key;
				this.id = sliderIdName;
			var reviewId = '#' + sliderIdName;

			$(reviewId).slick({
				autoplay: true,
				autoplaySpeed: 0,
				infinite: true,
				cssEase: 'linear',
				arrows: false,
				slidesToScroll: 1,
				speed: 1000,
				slidesToShow: 7,
				slidesPerRow: 1,
				vertical: true,
				rows: 1,
				pauseOnHover: false,
				pauseOnFocus: false,
				useTransform: false,
				touchMove:true,
				draggable: true,
				swipe:true
			});
		});
	}

	$('#section14 input[type=text]').on("focus", function(){
		$("#section14 .cursorItem").hide();
	});

	// scrollEvent
	function scrollEvent() {
		var $scrollEl = $('.scroll-animate');
		var _sct = $(this).scrollTop();
		var _winHeight = $(this).height();

		// 0314 추가
		//setMotion();

		$scrollEl.each(function (i) {
			var tg = $(this);
			var offset = tg.offset().top - _winHeight;

			if (offset < _sct) {
				$scrollEl.eq(i).addClass('active');
			} else {
				$scrollEl.eq(i).removeClass('active');
			}
		});
	}
	

	function setMotion() {
		TweenLite.killTweensOf($("#section4 .paint-1"));
		TweenLite.killTweensOf($("#section4 .paint-2"));
		TweenLite.killTweensOf($("#section4 .paint-3"));
		TweenLite.killTweensOf($("#section4 .paint-4"));

		TweenMax.set($("#section4 .paint-1"), {opacity: 0, width: 0});
		TweenMax.set($("#section4 .paint-2"), {opacity: 0, width: 0});
		TweenMax.set($("#section4 .paint-3"), {opacity: 0, width: 0});
		TweenMax.set($("#section4 .paint-4"), {opacity: 0, width: 0});
	}
</script>