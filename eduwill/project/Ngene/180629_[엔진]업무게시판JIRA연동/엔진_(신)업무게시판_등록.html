
<!DOCTYPE html>
<html>
<head>
<!-- #head -->
<!-- common.properties 객체화 -->

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eduwill Ngene</title>

<script>document.domain = "eduwill.net";</script>

<!-- Bootstrap -->
<link href="https://img.eduwill.net/resources/ngene/live/vendors/bootstrap/css/bootstrap.css" rel="stylesheet">
<!--
<link href="/bootstrap/bootstrap.css" rel="stylesheet">
-->
<link href="https://img.eduwill.net/resources/ngene/live/vendors/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css" rel="stylesheet">

<!-- Datatables -->
<link href="https://img.eduwill.net/resources/ngene/live/vendors/datatables/css/dataTables.bootstrap.min.css" rel="stylesheet">
<link href="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/css/buttons.bootstrap.min.css" rel="stylesheet">

<!-- Fullcalendar -->
<link href="https://img.eduwill.net/resources/ngene/live/vendors/fullcalendar/fullcalendar.min.css" rel="stylesheet">
<link href="https://img.eduwill.net/resources/ngene/live/vendors/fullcalendar/fullcalendar.print.css" rel="stylesheet" media="print">

<!-- styles -->  
<link href="https://img.eduwill.net/resources/ngene/live/css/styles.css" rel="stylesheet">
<link href="https://img.eduwill.net/resources/ngene/live/css/common.css" rel="stylesheet">
<link href="https://img.eduwill.net/resources/ngene/live/css/custom.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script type="text/javascript" src="https://img.eduwill.net/resources/ngene/live/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="https://img.eduwill.net/resources/ngene/live/js/jquery-ui.js"></script>
<script type="text/javascript" src="https://img.eduwill.net/resources/ngene/live/js/jquery.form.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/bootstrap/js/bootstrap.min.js"></script>
<!-- minor bug fixed 
<script src="/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
-->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.ko.js"></script>

<!-- Datatables -->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/js/jquery.dataTables.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/js/dataTables.bootstrap.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/js/dataTables.buttons.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/js/buttons.bootstrap.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/js/buttons.flash.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/js/buttons.html5.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/datatables/buttons/js/buttons.print.min.js"></script>

<!-- Fullcalendar -->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/moment/min/moment.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/fullcalendar/fullcalendar.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/fullcalendar/lang-all.js"></script>

<!-- CKEditor 
	2017.10.26 이경현 수정
	ckeditor 추가 기능 요청으로 인해, 특정페이지에 상위버전의 editor를 로드함에 따라 부득이하게 예외처리함(사용메뉴 : 사이트 > 총평페이지 관리)
	** 조회 controller 에서 model.addAttribute("ckeditor", "N"); 로 사용  
-->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/ckeditor/ckeditor.js"></script>
	<script src="https://img.eduwill.net/resources/ngene/live/vendors/ckeditor/adapters/jquery.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/js/custom.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/js/common.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/js/ajaxUtil.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/js/datetimepicker.js"></script>

<!-- flot chart -->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.resize.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.time.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.pie.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.tooltip.min.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.axislabels.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.stack.js"></script>

<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jshashtable-2.1.js"></script>
<script src="https://img.eduwill.net/resources/ngene/live/vendors/flot/jquery.flot.symbol.js"></script>

<!-- Vod Viewer : AquaPlayer -->
<script type="text/javascript" src="https://img.eduwill.net/resources/ngene/live/js/commonViewer.js"></script>

<!-- javascript templates -->
<script src="https://img.eduwill.net/resources/ngene/live/vendors/javascriptTemplates/tmpl.min.js"></script>

<!-- em -->
<script src="/js/em.js"></script>
<!--// #head -->	
</head>
<body>
	<!-- #wrapper -->
	<div id="wrapper">
		<!-- #header -->
		<div id="header">
			<style>
.form-control-feedback {
  position: absolute;
  top: 8px;
  right: 5px;
  z-index: 2; 
  display: block;
  text-align: center;
  pointer-events: none;
}
#ulAutoMenu li.active {
	background : #ccc;
	font-weight: bold;
}
#ulAutoMenu li:hover {
	background : #ccc;
	cursor : pointer;
	font-weight: bold;					
}
</style>
<script type="text/javascript">
var _headerTarget;

$(document).ready(function() {
	//autocomplete용 keyup event
	$("#divMenuSearch").on("keyup", "#searchMenu", function(e) {
		
		var target = $(this);
		_headerTarget = target;
		
		if (e.keyCode != 38 && e.keyCode != 40 && e.keyCode != 13) {	//상,하,엔터키 아닌경우만
			if($(this).val().length >= 2 && fnc_regExKorean($(this).val())) {
				$.ajax({
					type:"post"
					,url:"/common/ajaxMenuListForAutocomplete.action"
					,data: { staffId : 'eypark', menuName : $(this).val() }
					,dataType:"json"
					,success: function(data) {
						$("#ulAutoMenu li").remove();
						$(data).each(function(i) {
							var newItem = '<li>' + this.level1MenuName + ' > <a href='+ this.MENU_PATH + '>' + this.MENU_NAME + '</a></li>';
							$("#ulAutoMenu").append(newItem);
						});
						//$("#divAutoMenu").css("width", $("#ulAutoMenu").outerWidth()+40 +'px');
					}
					,error: function(responseJSON, status, err) {
						//alert(err);
					}
					,complete: function() {
						//autocomplete 보이기
						fnc_autocompleteShow();	
					}
				});
			}
		}
	});
	
	//autocomplete용 keydown event
	$("#divMenuSearch").on("keydown", "#searchMenu", function(e) {
		var target = $(this);
		if (e.keyCode == 38 || e.keyCode == 40 || e.keyCode == 13) {
			if($("#divAutoMenu").is(":visible")) {
				var item = $("#ulAutoMenu .active");
	    		var index = $("#ulAutoMenu li").index(item);
				if(e.keyCode == 13) {
					if(index > -1) {
						//fnc_autoSelectEmployee(target, item);
						var moveUrl = $(item).children('a').attr('href');
						location.href = moveUrl;
					}
				} else {
					var move = e.keyCode == 38 ? -1 : 1;
		    		if(index > -1) {
		    			$(item).removeClass("active");
		    			$("#ulAutoMenu li").eq(index + move).addClass("active");
		    			var activeItem = $("#ulAutoMenu .active");
		    			if(activeItem.length > 0) {
		    				$("#divAutoMenu").scrollTop($(activeItem).position().top + $("#divAutoMenu").scrollTop() - ($(activeItem).height() * 3));
		    			}
		    		} else {
		    			$("#ulAutoMenu li").eq(0).addClass("active");
		    		}
				}
	    	} 
	    }
	});
	
	//autocomplete용 blur event
	$("#divMenuSearch").on("blur", "#searchMenu", function(e) {
		$(this).val("");
		//클릭 이벤트 선행을 위해 간격을 두고 숨김 처리
		setTimeout(function() {
			fnc_autocompleteHide();
		}, 500);
	});
	
});

//한글완성
function fnc_regExKorean(value) {
	var pattern = /^[A-Za-z0-9가-힣\s]+$/;
	if(!pattern.test(value)) {
		return false;
	}
	return true;
}

//autocomplete 보이기
function fnc_autocompleteShow() {
	if($(_headerTarget).parent().find("#divAutoMenu").length == 0) {
		var autoHtml = "";
		autoHtml += '<div id="divAutoMenu" style="right:0; border:1px solid #ccc; background:#ffffff; position: absolute; overflow-y:scroll; height:250px; min-width:266px; z-index:1000;">';
		autoHtml += '	<ul style="list-style:none; padding:10px;" id="ulAutoMenu"></ul>';
		autoHtml += '</div>';
		$(_headerTarget).parent().append(autoHtml);	
	}
}

//autocomplete 숨기기
function fnc_autocompleteHide() {
	$("#divAutoMenu").remove();
}
</script>
<nav class="navbar navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed"
				data-toggle="collapse" data-target="#navbar" aria-expanded="false"
				aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<!--    
			<a class="navbar-brand" href="/main/main.action">Eduwill</a>
			-->
			<a class="navbar-brand" href="/main/main.action">
				<!-- img src="/images/logo_w.png" alt="에듀윌은 합격이다"-->
			</a>						
		</div>
		<div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li style="margin:0px !important;">
						<a href="/content/index.action">
							컨텐츠</a>
					</li>					
				<li style="margin:0px !important;">
						<a href="/services/index.action">
							서비스</a>
					</li>					
				<li class='active' style="margin:0px !important;">
						<a href="/site/index.action">
							사이트</a>
					</li>					
				</ul>
			<ul class="nav navbar-nav navbar-right">				
				<li style="margin-top:18px;">
					<div class="form-group" id="divMenuSearch">
						<input type="text" class="form-control" placeholder="메뉴명을 입력하세요" id="searchMenu" style="padding:3px 23px 3px 8px;">
						<span class="glyphicon glyphicon-search form-control-feedback"></span>
					</div>
				</li>
				<li><a href="/login/logout.action"><span class="glyphicon glyphicon-log-out"></span> 박은영&nbsp;</a></li>			
			</ul>
		</div>
	</div>
</nav></div>
		<!--// #header -->		
		<div class="clearfix visible-xs-block"></div>
		<!-- #container -->
		<div id="container">
			<div class="page-content">
				<div class="row">
					<div class="col-sm-2">
						<!-- #lnb -->
						<div id="lnb">
							<div class="list-group">
	<span class="list-group-item"><strong>게시판</strong></span>
		<a href="/site/jobBbsManage.action" class="list-group-item">업무게시판</a>			
		<a href="/site/jiraClientManage.action" class="list-group-item active">(신) 업무요청 게시판</a>			
		<a href="/site/bbsManage.action" class="list-group-item">게시판 관리</a>			
		<a href="/site/bbsContManage.action" class="list-group-item">게시물 관리</a>			
		<a href="/site/pdsManage.action" class="list-group-item">자료게시판</a>			
		<a href="/site/faqManage.action" class="list-group-item">FAQ 관리</a>			
		<a href="/site/faqSearchHistoryManage.action" class="list-group-item">FAQ 검색 키워드</a>			
		<a href="/site/giftManage.action" class="list-group-item">감사게시판</a>			
		<a href="/site/reviewAuto.action" class="list-group-item">시험총평페이지관리</a>			
		<span class="list-group-item"><strong>배너관리</strong></span>
		<a href="/site/centerBannerManage.action" class="list-group-item">메인 중간 배너관리</a>			
		<a href="/site/indexBannerManage.action" class="list-group-item">교수,교재 배너관리</a>			
		<a href="/site/joinBannerManage.action" class="list-group-item">회원가입배너관리</a>			
		<a href="/site/cardDivManage.action" class="list-group-item">무이자 할부카드 배너 관리</a>			
		<a href="/site/toastPopupManage.action" class="list-group-item">토스트팝업 관리</a>			
		<a href="/site/globalMainProgressManage.action" class="list-group-item">글로벌 메인 과정 관리</a>			
		<a href="/site/globalMainClickLogManage.action" class="list-group-item">글로벌 메인 클릭 로그</a>			
		<a href="/site/progressMainClickLogManage.action" class="list-group-item">과정 메인 클릭 로그</a>			
		<span class="list-group-item"><strong>사이트관리</strong></span>
		<a href="/site/popupManage.action" class="list-group-item">팝업관리</a>			
		<a href="/site/leftMenuManage.action" class="list-group-item">왼쪽 메뉴</a>			
		<a href="/site/sugangIndex.action" class="list-group-item">수강신청인덱스관리</a>			
		<a href="/site/siteMapManage.action" class="list-group-item">사이트맵관리</a>			
		<a href="/site/tccManage.action" class="list-group-item">합격채널 TCC 관리</a>			
		<a href="/site/eduwillVideoManage.action" class="list-group-item">에듀윌 동영상 관리</a>			
		<span class="list-group-item"><strong>기타관리</strong></span>
		<span class="list-group-item"><strong>ECO 관리</strong></span>
		<a href="/site/ecoManage.action" class="list-group-item">콘텐츠 등록/관리</a>			
		</div></div>
						<!--// #lnb -->
					</div>
					<div class="col-sm-10">
						<!-- #content -->
						<div id="content" class="requestWrite">
							<style>
.page-content .row > .col-sm-2{background:#FFF !important;}
.itemDiv{
	margin:10px;
	border:2px dashed #ddd;
	padding:5px;
}

div.attachment{
	display:inline-block;
	position:relative;
	width:20%;
	min-height:150px;
	padding:15px;
	margin:15px;
	border:2px dashed grey;
	white-space:nowrap;
	overflow:hidden;
	text-overflow:ellipsis;
}

div.attachment #btnRemoveAttachment{
	display:none;
	position:absolute;
	bottom:2px;
	right:2px;
}

div.attachment img.attachment_thumbnail{
	margin-bottom:5px;
	border-radius:12px;
	max-height:150px;
	max-width:200px;
}

#file{
	position:relative;
	z-index:1;
	height:260px;
}

#file.dragon{
	border:3px dashed lightblue;
}

#divMessage{
	position:relative;
	z-index:2;
	top:-256px;
	text-align:center;
	background:#FFF;
	margin-left:4px;
	margin-right:4px;
}
#divUploads{
	position:relative;
	z-index:2;
	top:-255px;
	height:1px;
}


/* 추가 되는 스타일 영역 */
.requestWrite.headtitle {width:100%; height:26px; line-height: 26px; margin:8px 0;}
.requestWrite.headtitle h5{display:inline-block;}
/*과정명*/
.requestWrite .itemDiv { margin: 10px; border:none !important; padding: 5px; }
.requestWrite .itemDiv label{ font-size: 13px;}
.requestWrite .itemDiv .checkbox-inline + .checkbox-inline { margin-top: 0; margin-left: 0; }

.table-style > thead > tr > th, .table-style > tbody > tr > th, .table-style > tfoot > tr > th { font-size:13px !important; text-align:left; padding: 5px 0 5px 12px;}
.table-style > thead > tr > td, .table-style > tbody > tr > td, .table-style > tfoot > tr > td { font-size:13px !important; text-align:left; padding: 5px 0 5px 12px;}
.table-style.style1 th{ background-color:#EDF2F6 !important;}

.requestWrite .form-control{ font-size:13px;}

.attach-des{ display: inline-block;text-align: left;color:#767676;font-size: 12px;}
.glyphicon-pencil{ color:#004FBE; font-weight:bold;}
.required{ color:red; font-size:15px;}
.required-txt{color:red;font-size:12px;}
/* 추가 되는 스타일 영역 */

</style>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2018-06-152/js/bootstrap-toggle.min.js"></script>

<!-- CKEditor -->
<script src="https://img.eduwill.net/resources/common/module/ckeditor_sdk/vendor/ckeditor/ckeditor.js"></script>
<script>
CKEDITOR.editorConfig = function( config )
{
config.toolbar =
[
[ 'Image','Flash','Table','HorizontalRule','SpecialChar','PageBreak'],
[ 'Styles','Format' ],
[ 'Bold','Italic','Strike','-','RemoveFormat' ]
];
};
/*
CKEDITOR.editorConfig = function(config){
	config.removePlugins = 'Image';
	config.toolbar = 'Basic';
};
*/
</script>

<!-- DropZone.js -->
<script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
<link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">


<script type="text/javascript">

	$(document).ready(function(){
		
		CKEDITOR.replace("editDesc",{
			toolbar:[{ name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat' ] },
				{ name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl', 'Language' ] },
				{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
				{ name: 'insert', items: [ 'Image', 'Flash', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar'] },
				{ name: 'styles', items: [ 'Styles', 'Format', 'Font', 'FontSize' ] },
				{ name: 'colors', items: [ 'TextColor', 'BGColor' ] },
				{ name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] }]
		});
		
		initData = "*업무 요청 시 작성 예시입니다. 필요 없으면 지우세요*<br/><br/>";
		initData += "====================================================<br/>";
		initData += "1. 요청사항 :<br/><br/>";
		initData += "2. 반영일(오픈일) :<br/><br/>";
		initData += "3. 상세내용 :<br/>";
		initData += "====================================================";
		
		CKEDITOR.instances.editDesc.setData(initData);
		
		$("#assignee").change(function(){			
			ajaxLoadLdapADList($(this).val());
		});	
		
		$("#referee").change(function(){			
			ajaxLoadLdapADList2($(this).val());
		});	
		
		// 팀장 선택 버튼 이벤트
		$(".btnLeaderSelect").click(function(){
			text = $(this).text();
			$("#assignee").val(text + " [팀장]");
			ajaxLoadLdapADList(text + " [팀장]");
		});
		
		// 등록 버튼 이벤트
		$("#btnInsertSubmit").click(function(){
			data = CKEDITOR.instances.editDesc.getData();
			$("#description").val(data);
			
			if($("#assigneeLdapId").val() == ""){
				alert("담당자를 지정해 주세요");
				$("#assignee").focus();
				return false;
			}
			else if($("#duedate").val() == ""){
				alert("완료희망일을 지정해 주세요");
				$("#duedate").focus();
				return false;
			}
			else if($("#summary").val() == ""){
				alert("제목을 작성해 주세요");
				$("#summary").focus();
				return false;	
			}
			else if($("#description").val() == ""){
				alert("설명을 작성해 주세요");
				return false;
			}
			
			$("#insertForm").submit();
		});
		
		// 목록(뒤로 가기) 버튼 이벤트
		$("#btnHistoryBack").click(function(){
			history.back(-1);
		});		
		
		// 첨부파일 마우스오버
		$("#file").on("dragenter", function(){
			$("#file").addClass("dragon");
		});
		$("#file").on("dragleave", function(){
			$("#file").removeClass("dragon");
		});
		$("#file").mouseenter(function(){
			$("#file").addClass("dragon");
		});
		$("#file").mouseleave(function(){
			$("#file").removeClass("dragon");
		});
		
		// 첨부파일 변경
		$("#file").change(function(){
			
			$("#file").removeClass("dragon");
			result = $(this).prop("files");
			
			str = ""; cnt = 0;
			$.each(result, function(key, value){
				str += "<div class=\"attachment\">";
				str += "	<img class=\"attachment_thumbnail\" src=\"http://pds.eduwill.net/Jira/ExtensionIcon/default.png\" alt=\"첨부파일\" /><br/>";
				str += value.name;
				str += "</div>";
				cnt++;
				//if((++cnt) >= 4) return false; // == break;
			});
			
			height = 260 + (parseInt((cnt-1)/4) * 250);
			
			$("#file").css("height", height + "px");
			$("#divMessage").css("top", (-height+4) + "px");
			$("#divUploads").css("top", (-height+5) + "px");
			
			$("#divUploads").html(str);
			console.log(result);
		});

	});
	
	// 담당자(Assignee) 설정
	function ajaxLoadLdapADList(inputVal){
		$(".loadingArea").show();
		$.ajax({
			url : "/site/jiraClientManage/ajaxLoadADUserName.action"
			,type : "post"
			,data : {
				key : inputVal
			}
			,dataType : "json"
			,success : function(data){
				
				$(".loadingArea").hide();
				
				console.log(data);
				
				var str = "";
				$.each(data, function(key, value){
					str += "<option value=\"" + value.username + "\">";
				});
				
				$("#namelist").html(str);
				
				cnt = Object.keys(data).length;
				
				if(cnt == 1){
					$("#compAssignee").html("<span class=\"glyphicon glyphicon-ok\"></span>");
					$("#assignee").val(data[0].username);
					$("#assigneeLdapId").val(data[0].userid);
					$("#assignee").attr("style","color:green");
				}
				else{
					$("#compAssignee").html("");
					$("#assignee").attr("style","color:black");
				}
			}
			,error : function(xhr, status, error){
				alert(error);
			}
		});		
	}	
	
	// 참조인(Referee) 설정
	function ajaxLoadLdapADList2(inputVal){
		$(".loadingArea").show();
		$.ajax({
			url : "/site/jiraClientManage/ajaxLoadADUserName.action"
			,type : "post"
			,data : {
				key : inputVal
			}
			,dataType : "json"
			,success : function(data){
				
				$(".loadingArea").hide();
				
				console.log(data);
				
				var str = "";
				$.each(data, function(key, value){
					str += "<option value=\"" + value.username + "\">";
				});
				
				$("#referNameList").html(str);
				
				cnt = Object.keys(data).length;
				
				if(cnt == 1){
					$("#referee").val('');
					msg = CKEDITOR.instances.editDesc.getData();
					console.log(msg);
					msg += "<a href=\"http://works.eduwill.net/secure/ViewProfile.jspa?name=" + data[0].userid + "\">" + data[0].username + "</a>";
					CKEDITOR.instances.editDesc.setData(msg);
					alert("참조인이 설명 하단에 추가되었습니다");
				}
			}
			,error : function(xhr, status, error){
				alert(error);
			}
		});		
	}	
</script>


<h3 class="page-header">
	업무요청 게시판 
	<small class="required-txt">* 필수 입력 값</small>
</h3>

<!-- 로딩 마크 --><!--
<div class="loadingArea" style="display:none; z-index:999; position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%);">
	<img src="https:https://img.eduwill.net/resources/ngene/live/images/progress.gif" alt="로딩중입니다." />
</div>
-->

<!-- 폼 -->
<form class="form-horizonta" id="insertForm" name="insertForm" enctype="multipart/form-data" action="/site/jiraClientManage/insertJiraIssue.action" method="post">
	<!-- 히든 속성 -->
	<input type="hidden" id="reporter" name="reporter" value="박은영" />
	<input type="hidden" id="reportTeam" name="reportTeam" value="개발팀" />
	<input type="hidden" id="assigneeLdapId" name="assigneeLdapId" value="" />
	<input type="hidden" id="key" name="key" value="" />
	<input type="hidden" id="description" name="description" value='' />
	
	<!-- 테이블 -->
	<table id="tableDefault" class="table table-bordered table-style style1" cellspacing="0" width="100%">
		<colgroup>
			<col width="10%" />
			<col width="40%" />
			<col width="10%" />
			<col width="40%" />
		</colgroup>

		<tbody id="tableBody">
			<tr>
				<th>요청정보</th>
				<td>아무개님/CM전략1팀</td>
				<th>요청일</th>
				<td>2018-06-15</td>
			</tr>

			<tr>
				<th rowspan="2">담당정보 <span class="required">*</span></th>
				<td class="alignLeft">
					<input style="width:200px" class="form-control" type="text" list="namelist" id="assignee" name="assignee" autocomplete="off" value="" />
					<datalist id="namelist">
					</datalist>
					<span id="compAssignee" style="color:green; font-size:18px;"></span>
				</td>

				<th>완료희망일 <span class="required">*</span></th>
				<td>
					<input type="text" class="datepicker form-control" id="duedate" name="duedate" placeholder="완료 희망일" value="" readonly />
				</td>
			</tr>

			<tr>
				<td colspan="3" class="alignLeft">
					<div class="row">
						<div style="margin:5px 0;">* 담당자를 모를 경우, 팀명 선택</div>
					</div>

					<div class="row">
						<button class="btn btn-default btnLeaderSelect" type="button">개발팀</button>
						<button class="btn btn-default btnLeaderSelect" type="button">디자인팀</button>
						<button class="btn btn-default btnLeaderSelect" type="button">서비스기획팀</button>
						<button class="btn btn-default btnLeaderSelect" type="button">인프라개발팀</button>
						<button class="btn btn-default btnLeaderSelect" type="button">시스템팀</button>
						<button class="btn btn-default btnLeaderSelect" type="button">모바일마케팅팀</button>
					</div>
				</td>
			</tr>

			<tr>
				<th>업무구분 <span class="required">*</span></th>
				<td colspan="3" class="alignLeft">
					<button class="btn btn-primary" type="button">운영</button>
					<button class="btn btn-primary" type="button">신규</button>
					<!--
					<label class="radio-inline"><input type="radio" name="gubun" value="운영" checked="checked" />운영</label> 
					<label class="radio-inline"><input type="radio" name="gubun" value="신규" />신규</label>
					-->
				</td>
			</tr>


		</tbody>
	</table>

	<div class="headtitle"><h5 style="display:inline">요청내용</h5></div>
	<table id="tableDefault" class="table table-bordered table-style" cellspacing="0" width="100%">
		<colgroup>
			<col width="10%" />
			<col width="40%" />
			<col width="10%" />
			<col width="40%" />
		</colgroup>

		<tbody id="tableBody">
			<tr>
				<th>제목 <span class="required">*</span></th>
				<td colspan="3"><input class="form-control" type="text" id="summary" name="summary" value="" placeholder="[과정P,M] 업무명" required /></td>
			</tr>

			<tr>
				<th>요청내용 <span class="required">*</span></th>
				<td colspan="3">
					<textarea id="editDesc"></textarea>
				</td>
			</tr>

			<tr>
				<th>참조인 추가</th>
				<td class="alignLeft" colspan="3">
					<input class="form-control" type="text" list="referNameList" id="referee" name="referee" autocomplete="off" value="" />
					<datalist id="referNameList">
					</datalist>
				</td>
			</tr>

			<tr>
				<th>과정명</th>
				<td colspan="3" class="alignLeft">
					<div class="itemDiv">
						<label class="checkbox-inline"><input type="checkbox" name="items" value="전사공통" />전사공통</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="온라인" />온라인</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(공통)" />학원(공통)</label>
						<br/>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(대방)" />학원(대방)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(부평)" />학원(부평)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(부천)" />학원(부천)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(천호)" />학원(천호)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(수원)" />학원(수원)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(노원)" />학원(노원)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(부산서면)" />학원(부산서면)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(부산해운대)" />학원(부산해운대)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(대전)" />학원(대전)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(종로)" />학원(종로)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(성남)" />학원(성남)</label>
						<label class="checkbox-inline"><input type="checkbox" name="items" value="학원(평촌)" />학원(평촌)</label>
					</div>
	  			</td>
			</tr>

			<tr>
				<th>
					첨부파일<br/><br/>
					<span class="attach-des">*최초 등록시<br/>최대 5개까지<br/>동시 첨부<br/>가능 합니다</span>
				</th>
				<td colspan="4" class="alignLeft">
				
					<input type="file" class="form-control" id="file" name="file" multiple />
					<div id="divMessage" onclick="$('#file').click();"><span style="font-size:14px;"><span class="glyphicon glyphicon-cloud-download" style="font-size:20px;"></span> 첨부할 파일을 여기에 끌어다 놓으세요!</span></div>
					<div id="divUploads"></div>
					
					</td>
			</tr>

		</tbody>
	</table>


	<div style="margin:10px 0 30px 0;">
		<button class="btn btn-lg btn-default" type="button" id="btnHistoryBack">
			<span class="glyphicon glyphicon-arrow-left"></span> 목록
		</button>

		<button class="btn btn-lg btn-primary" type="button" id="btnInsertSubmit" style="float:right;">
			<span class="glyphicon glyphicon-save"></span> 등록
		</button>
	</div>

</form>
 
<script>
ajaxLoadLdapADList('');
</script>
</div>
						<!-- // #content -->
					</div>
				</div>
			</div>
		</div>
		<!--// #container -->
		<!-- #footer -->
		<div id="footer">
			<!--  
<footer>
	<div class="container">

		<div class="copy text-center">
			Copyright 2014 <a href='#'>Website</a>
		</div>

	</div>
</footer>
-->
</div>
		<!--// #footer -->
	</div>
	<!--// #wrapper -->
</body>
</html>